query GetAttendance {
  classes {
    attendances(where: { type: { _neq: "present" } }) {
      type
      date
      period_id
    }
    subject {
      title
    }
  }
}

subscription CheckAttendance($class_id: Int!, $date: date) {
  attendance_aggregate(
    where: { class_id: { _eq: $class_id }, date: { _eq: $date } }
  ) {
    aggregate {
      count
    }
  }
}
