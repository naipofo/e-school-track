CREATE TYPE attendance_type AS ENUM ('present', 'absent', 'late', 'excused', 'released');

CREATE TABLE "public"."attendance" ("id" serial NOT NULL, "class_id" integer NOT NULL, "student_id" integer NOT NULL, "techer_id" integer NOT NULL, "date" date NOT NULL, "period_id" integer NOT NULL, "type" attendance_type NOT NULL, "comment" text, "created_at" timestamptz NOT NULL DEFAULT now(), PRIMARY KEY ("id") , FOREIGN KEY ("class_id") REFERENCES "public"."classes"("id") ON UPDATE restrict ON DELETE restrict, FOREIGN KEY ("student_id") REFERENCES "public"."users"("id") ON UPDATE restrict ON DELETE restrict, FOREIGN KEY ("techer_id") REFERENCES "public"."users"("id") ON UPDATE restrict ON DELETE restrict, FOREIGN KEY ("period_id") REFERENCES "public"."lesson_periods"("id") ON UPDATE restrict ON DELETE restrict);
